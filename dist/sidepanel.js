import{a as N,c as v,j as e,r as t,g as w,A as C,m as p,E as k}from"./storage.js";import{O as S,A,T as E,S as I,a as L,L as P,b as q,c as O}from"./aiService.js";const T=N("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);const M=()=>{const[a,g]=t.useState(null),[r,l]=t.useState(""),[n,d]=t.useState(!1),[x,i]=t.useState(null),[b,o]=t.useState(!1);t.useState("main"),t.useEffect(()=>{m()},[]);const m=async()=>{try{const s=await w();g(s),s.hasCompletedOnboarding||o(!0)}catch(s){console.error("Erro ao carregar configura√ß√µes:",s)}},u=async()=>{if(!(!r.trim()||n)){d(!0);try{const s=await O.processInstruction(r);i(s),l("")}catch{alert("Erro ao processar instru√ß√£o. Verifique sua configura√ß√£o.")}finally{d(!1)}}},j=()=>{i(null)},h=()=>{i(null)},c=()=>{chrome.runtime.openOptionsPage()};return b?e.jsx("div",{className:"h-full overflow-y-auto",children:e.jsx(S,{onComplete:()=>{o(!1),m()}})}):a!=null&&a.isConfigured?e.jsx("div",{className:"h-full flex flex-col bg-white",children:e.jsx(A,{mode:"wait",children:x?e.jsxs(p.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},exit:{opacity:0,x:-20},className:"h-full flex flex-col",children:[e.jsxs("div",{className:"flex items-center justify-between p-4 border-b border-gray-200 bg-white sticky top-0 z-10",children:[e.jsxs("button",{onClick:h,className:"flex items-center space-x-2 text-gray-600 hover:text-gray-800 transition-colors",children:[e.jsx(T,{className:"w-5 h-5"}),e.jsx("span",{className:"font-medium",children:"Voltar"})]}),e.jsx("h1",{className:"text-lg font-semibold text-gray-800",children:"Executando Tarefa"}),e.jsx("div",{className:"w-16"})," "]}),e.jsx("div",{className:"flex-1 overflow-y-auto p-4",children:e.jsx(E,{steps:x.steps,onComplete:j,onCancel:h})})]},"task-executor"):e.jsxs(p.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},exit:{opacity:0,x:20},className:"h-full flex flex-col",children:[e.jsxs("div",{className:"flex items-center justify-between p-4 border-b border-gray-200 bg-white sticky top-0 z-10",children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx(I,{className:"w-7 h-7 text-blue-600"}),e.jsxs("div",{children:[e.jsx("h1",{className:"text-lg font-semibold text-gray-800",children:"Assistente IA"}),e.jsxs("p",{className:"text-xs text-gray-500",children:[a.selectedProvider," ‚Ä¢ ",a.selectedModel]})]})]}),e.jsx("button",{onClick:c,className:"p-2 text-gray-500 hover:text-gray-700 rounded-lg hover:bg-gray-100 transition-colors",children:e.jsx(L,{className:"w-5 h-5"})})]}),e.jsxs("div",{className:"flex-1 overflow-y-auto p-4 space-y-6",children:[e.jsxs("div",{className:"space-y-3",children:[e.jsx("h3",{className:"text-sm font-semibold text-gray-800",children:"üí° Exemplos R√°pidos"}),e.jsx("div",{className:"grid grid-cols-1 gap-2",children:["Abra o Gmail e verifique novos emails","Fa√ßa uma postagem no LinkedIn sobre produtividade","Consulte o clima para hoje no Google","Pesquise por apartamentos para alugar","Abra o YouTube e procure por tutoriais de React"].map((s,y)=>e.jsx("button",{onClick:()=>l(s),className:"text-left text-sm text-blue-600 hover:text-blue-800 bg-blue-50 hover:bg-blue-100 p-3 rounded-lg transition-colors border border-blue-100 hover:border-blue-200",children:s},y))})]}),e.jsxs("div",{className:"space-y-3",children:[e.jsx("label",{className:"block text-sm font-semibold text-gray-800",children:"üéØ O que voc√™ quer que eu fa√ßa?"}),e.jsxs("div",{className:"relative",children:[e.jsx("textarea",{value:r,onChange:s=>l(s.target.value),placeholder:"Ex: Fa√ßa uma postagem de bom dia no meu LinkedIn",className:"w-full p-4 pr-14 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent resize-none text-sm",rows:4,onKeyDown:s=>{s.key==="Enter"&&!s.shiftKey&&(s.preventDefault(),u())}}),e.jsx("button",{onClick:u,disabled:!r.trim()||n,className:"absolute bottom-3 right-3 p-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:n?e.jsx(P,{className:"w-5 h-5 animate-spin"}):e.jsx(q,{className:"w-5 h-5"})})]})]}),e.jsxs("div",{className:"bg-gradient-to-r from-blue-50 to-indigo-50 p-4 rounded-lg border border-blue-100",children:[e.jsx("h3",{className:"text-sm font-semibold text-blue-900 mb-3",children:"üí° Dicas para Melhores Resultados"}),e.jsxs("ul",{className:"text-xs text-blue-800 space-y-2",children:[e.jsxs("li",{className:"flex items-start space-x-2",children:[e.jsx("span",{className:"text-blue-600",children:"‚Ä¢"}),e.jsx("span",{children:"Seja espec√≠fico sobre o que quer fazer"})]}),e.jsxs("li",{className:"flex items-start space-x-2",children:[e.jsx("span",{className:"text-blue-600",children:"‚Ä¢"}),e.jsx("span",{children:'Mencione o site se necess√°rio (ex: "no LinkedIn")'})]}),e.jsxs("li",{className:"flex items-start space-x-2",children:[e.jsx("span",{className:"text-blue-600",children:"‚Ä¢"}),e.jsx("span",{children:"Use linguagem natural e simples"})]}),e.jsxs("li",{className:"flex items-start space-x-2",children:[e.jsx("span",{className:"text-blue-600",children:"‚Ä¢"}),e.jsx("span",{children:"Divida tarefas complexas em passos menores"})]})]})]}),e.jsxs("div",{className:"bg-gray-50 p-4 rounded-lg",children:[e.jsx("h3",{className:"text-sm font-semibold text-gray-800 mb-2",children:"üìä Status da Configura√ß√£o"}),e.jsxs("div",{className:"space-y-2 text-xs",children:[e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-gray-600",children:"Provedor:"}),e.jsx("span",{className:"font-medium text-gray-800",children:a.selectedProvider})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-gray-600",children:"Modelo:"}),e.jsx("span",{className:"font-medium text-gray-800",children:a.selectedModel})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-gray-600",children:"Status:"}),e.jsx("span",{className:"font-medium text-green-600",children:"‚úì Configurado"})]})]})]}),e.jsx("div",{className:"text-center",children:e.jsxs("button",{onClick:c,className:"inline-flex items-center space-x-2 text-sm text-gray-500 hover:text-gray-700 transition-colors",children:[e.jsx(k,{className:"w-4 h-4"}),e.jsx("span",{children:"Configura√ß√µes Avan√ßadas"})]})})]})]},"main-interface")})}):e.jsx("div",{className:"h-full flex items-center justify-center p-6",children:e.jsxs("div",{className:"text-center space-y-6 max-w-md",children:[e.jsx(C,{className:"w-16 h-16 text-yellow-500 mx-auto"}),e.jsxs("div",{className:"space-y-2",children:[e.jsx("h2",{className:"text-xl font-semibold text-gray-800",children:"Configura√ß√£o Necess√°ria"}),e.jsx("p",{className:"text-sm text-gray-600",children:"Configure sua IA antes de usar a extens√£o"})]}),e.jsxs("div",{className:"space-y-3",children:[e.jsx("button",{onClick:c,className:"w-full bg-blue-600 text-white px-4 py-3 rounded-lg hover:bg-blue-700 transition-colors font-medium",children:"Abrir Configura√ß√µes"}),e.jsx("button",{onClick:()=>o(!0),className:"w-full bg-gray-100 text-gray-700 px-4 py-3 rounded-lg hover:bg-gray-200 transition-colors font-medium",children:"Iniciar Configura√ß√£o Guiada"})]})]})})},f=document.getElementById("sidepanel-root");f&&v(f).render(e.jsx(M,{}));
